// Code generated by go-integral. DO NOT EDIT.

package seed

import (
	"context"

	"github.com/jmoiron/sqlx"
)

// SchemaModels is the type that contains all the models for the schema
type SchemaModels struct { {{ range . }}
  {{ .TableName.Golang }}Models []{{ .TableName.Golang }}Record
  {{- end }}
}

// seedDatabase is the function that seeds the database by adding records in order of dependency
func seedDatabase(ctx context.Context, db *sqlx.DB, models SchemaModels) error { {{ range . }}
  for _, record := range models.{{ .TableName.Golang }}Models {
    err := Insert{{ .TableName.Golang }}TableRecord(ctx, db, record)
    if err != nil {
      return err
    }
  }
  {{ end }}
  return nil
}